<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>GreenMove</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;font-family:Arial,sans-serif;background:#e8f5e9}
.container{max-width:420px;margin:50px auto;background:#fff;padding:25px;border-radius:12px;box-shadow:0 10px 20px rgba(0,0,0,.1)}
h1{text-align:center;color:#2e7d32}
input,button{width:100%;padding:12px;margin-top:12px;border-radius:8px;border:1px solid #ccc}
button{background:#2e7d32;color:#fff;border:none;font-size:15px;cursor:pointer}
button:hover{background:#256628}
.hidden{display:none}
.info{background:#f1f8f4;padding:12px;border-radius:8px;margin-top:15px;font-size:13px;line-height:1.6}
.error{color:#c62828;font-size:13px;margin-top:10px}
video{width:100%;margin-top:15px;border-radius:10px}
footer{text-align:center;font-size:12px;margin-top:20px;color:#555}
</style>
</head>
<body>

<!-- REGISTER -->
<div class="container" id="register">
<h1>ğŸŒ± GreenMove</h1>
<p>ğŸ‡«ğŸ‡· Inscription requise<br>ğŸ‡¦ğŸ‡ª Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø¥Ø¬Ø¨Ø§Ø±ÙŠ<br>ğŸ‡¬ğŸ‡§ Registration required</p>
<input id="regName" placeholder="Nom / Ø§Ù„Ø§Ø³Ù… / Name">
<input id="regCode" type="password" placeholder="Code / Ø±Ù…Ø² / Code">
<button onclick="register()">Register</button>
<div class="error" id="regError"></div>
</div>

<!-- LOGIN -->
<div class="container hidden" id="login">
<h1>ğŸŒ± GreenMove</h1>
<p>ğŸ‡«ğŸ‡· Connexion<br>ğŸ‡¦ğŸ‡ª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„<br>ğŸ‡¬ğŸ‡§ Login</p>
<input id="logName" placeholder="Nom / Ø§Ù„Ø§Ø³Ù… / Name">
<input id="logCode" type="password" placeholder="Code / Ø±Ù…Ø² / Code">
<button onclick="login()">Enter</button>
<div class="error" id="logError"></div>
</div>

<!-- APP -->
<div class="container hidden" id="app">
<h1 id="welcome"></h1>

<div class="info">
ğŸ‡«ğŸ‡· Choisissez une vidÃ©o montrant une action Ã©cologique.<br>
ğŸ‡¦ğŸ‡ª Ø§Ø®ØªØ± ÙÙŠØ¯ÙŠÙˆ ÙŠÙØ¸Ù‡Ø± Ø¹Ù…Ù„Ù‹Ø§ Ø¨ÙŠØ¦ÙŠÙ‹Ø§.<br>
ğŸ‡¬ğŸ‡§ Choose a video showing an ecological action.<br><br>
â— Pas de visages â€¢ Pas de propos offensants<br>
â— Ø¨Ø¯ÙˆÙ† ÙˆØ¬ÙˆÙ‡ â€¢ Ø¨Ø¯ÙˆÙ† ÙƒÙ„Ø§Ù… Ù…Ø³ÙŠØ¡<br>
â— No faces â€¢ No offensive content
</div>

<input type="file" accept="video/*" onchange="showVideo(event)">
<video id="video" controls class="hidden"></video>

<button onclick="logout()">Logout</button>
<footer>GreenMove Â© 2026</footer>
</div>

<script>
const user = JSON.parse(localStorage.getItem('greenmove_user'));

if(user){show('login')}else{show('register')}

function show(id){
['register','login','app'].forEach(x=>document.getElementById(x).classList.add('hidden'));
document.getElementById(id).classList.remove('hidden');
}

function register(){
const n=regName.value.trim(),c=regCode.value.trim();
if(!n||!c){regError.textContent='Fill all fields';return}
localStorage.setItem('greenmove_user',JSON.stringify({n,c}));
show('login');
}

function login(){
const s=JSON.parse(localStorage.getItem('greenmove_user'));
if(!s||logName.value!==s.n||logCode.value!==s.c){
logError.textContent='Wrong name or code';return}
welcome.textContent=`ğŸ‘‹ Welcome ${s.n}`;
show('app');
}

function logout(){show('login')}

function showVideo(e){
const v=document.getElementById('video');
v.src=URL.createObjectURL(e.target.files[0]);
v.classList.remove('hidden');
}
</script>

</body>
</html>
